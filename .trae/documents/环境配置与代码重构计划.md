# 环境配置与代码重构计划

目前的检查结果显示您的环境尚未完全配置好：
1. **Conda 环境**: `pka_predictor` 环境尚未创建。
2. **代码逻辑**: 代码中的文件路径仍指向旧的目录结构（如 `data/data.csv`），且尚未利用新增的 `temp/` 和 `models/` 目录。

我将执行以下步骤来完成配置：

## 1. 代码重构 (Code Refactoring)
### `src/utils.py`
- [ ] 迁移 `physics_engine.py` 中的正则表达式解析逻辑到此文件。
- [ ] 添加文件读写辅助函数。

### `src/physics_engine.py`
- [ ] 修改 `xtb` 调用逻辑，将工作目录 (`cwd`) 指向 `temp/` 目录。
- [ ] 调用 `utils.py` 进行结果解析。

### `main.py`
- [ ] 更新默认数据路径：
    - 输入数据: `data/raw/data.csv`
    - 3D 结构输出: `data/interim/structures/` (或保留在 temp 中，视需求而定)
    - 模型保存: `models/pka_model.joblib`
- [ ] 确保 pipeline 正确使用 `data/raw` -> `data/processed` 的流程。

## 2. 环境创建 (Environment Setup)
- [ ] 执行 `conda env create -f environment.yml` 创建虚拟环境。
- [ ] 验证 `xtb` 是否正确安装。

请确认是否执行此计划？
